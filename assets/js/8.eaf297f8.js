(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{57:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"bash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bash"}},[s._v("#")]),s._v(" Bash")]),s._v(" "),a("p",[s._v("基本命令有 "),a("code",[s._v("ls")]),s._v("，"),a("code",[s._v("dir")]),s._v("，"),a("code",[s._v("mkdir")]),s._v("，"),a("code",[s._v("ll")]),s._v("，"),a("code",[s._v("mv")]),s._v("，"),a("code",[s._v("cp")]),s._v("，"),a("code",[s._v("cd")]),s._v("，"),a("code",[s._v("rm")]),s._v("，"),a("code",[s._v("curl")]),s._v("，"),a("code",[s._v("pwd")]),s._v("。")]),s._v(" "),a("p",[a("code",[s._v("man <command>")]),s._v(" 命令查看帮助信息。")]),s._v(" "),a("h2",{attrs:{id:"网络"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络"}},[s._v("#")]),s._v(" 网络")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("ipconfig getifaddr en0 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取本机IP")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -i :8080 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找出使用了8080端口号的进程")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" root@"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("remote-ip"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 登录远程服务器")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r root@"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("remote-ip"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":/tmp/app.log ~/Downloads "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将远程服务器上的文件下载到本机Downloads目录下")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" ~/Downloads/go.tar.gz root@"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("remote-ip"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":/tmp "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将本机文件上传到远程服务器上")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -F ./ssh-config -r workers/sample.sh xiaoke-dev:/tmp "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 指定ssh config文件")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/^tcp/ {++S["),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NF")]),s._v("]} END {for(a in S) print a, S[a]}'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看服务器TCP连接状态统计")]),s._v("\n")])])]),a("h2",{attrs:{id:"文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件"}},[s._v("#")]),s._v(" 文件")]),s._v(" "),a("h3",{attrs:{id:"查看"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看"}},[s._v("#")]),s._v(" 查看")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" –f /tmp/app.log "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 监听app.log并打印内容，用于查看log")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" –5 /tmp/app.log "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印app.log最后5行内容")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" –n +50 /tmp/app.log "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印app.log从第50行开始的内容")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /tmp/app.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" graphql "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出app.log含有graphql的片段")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" -h -d1 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看剩余磁盘空间, -d1统计第一层文件和目录")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" -h /etc "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 文件夹大小")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("du")]),s._v(" -ah /etc/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" -n -r "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("head")]),s._v(" -n "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示前10个吃存储的文件")]),s._v("\n")])])]),a("h3",{attrs:{id:"创建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建"}},[s._v("#")]),s._v(" 创建")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'hello'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" test.txt "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 往test.txt写入hello")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'world'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" test.txt "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 往test.txt添加world")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p logs "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建logs目录，目录已存在不报错")]),s._v("\n")])])]),a("h3",{attrs:{id:"搜索"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搜索"}},[s._v("#")]),s._v(" 搜索")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -r graphql "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出当前目录下文件含有graphql字眼的文件")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2018-07-04'")]),s._v(" dev.log -A "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" -B "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找出dev.log中含有2018-07-04的前后3行")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" ./ -name "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*.go'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找出当前目录下所有go文件")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fgrep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2018-07-04'")]),s._v(" dev.log -c "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 搜索dev.log文件里面含有`2018-07-04`的行的计数")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fgrep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2018-07-04'")]),s._v(" dev.log "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'error'")]),s._v(" -c "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在上面命令的基础上增加行内含有`error`的条件")]),s._v("\n")])])]),a("h3",{attrs:{id:"权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#权限"}},[s._v("#")]),s._v(" 权限")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -r www-data:www-data logs "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更改文件Owner")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v(" aws-dev.pem "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置为拥有者可读写。777表示所有人可以读写及执行。")]),s._v("\n")])])]),a("h3",{attrs:{id:"删除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除"}},[s._v("#")]),s._v(" 删除")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" ./test.txt "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除test.txt文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rfv ./node_modules "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除整个node_modules目录")]),s._v("\n")])])]),a("h2",{attrs:{id:"可执行文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可执行文件"}},[s._v("#")]),s._v(" 可执行文件")]),s._v(" "),a("p",[s._v("这是一个简单的含有if和外传变量的bash文件代码示例。保存为 "),a("code",[s._v("run.sh")]),s._v(" 文件后执行 "),a("code",[s._v("bash run.sh test")]),s._v(" 命令。")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("env")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# example: test, staging, sandbox")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"'env' should be test, staging or sandbox\"")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v("\n")])])]),a("h2",{attrs:{id:"时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#时间"}},[s._v("#")]),s._v(" 时间")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%s "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Timestamp: 1535723215 ")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -u +"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%Y-%m-%dT%H:%M:%SZ"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# UTC: 2018-08-31T13:50:55Z")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" +%Y-%m-%dT%H:%M:%S%z "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Local: 2018-08-31T21:52:17+0800")]),s._v("\n")])])]),a("h2",{attrs:{id:"其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" 其他")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 切换到root权限")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /usr/local/etc/php/7.1/php.ini /etc/php "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# php.ini 链到 /etc/php 目录下")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" php "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 找出还有php字眼的进程")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16969")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 干掉PID为16969的进程")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" aux "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" vscode "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print \\"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("}'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 干掉vscode相关的进程")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" php "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看最近含有php字眼的命令记录")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("whereis")]),s._v(" openssl\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" nginx\n\nnode app.js "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /dev/null "),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("2")]),s._v(">")]),a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("&1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不输出执行内容，包括出错信息")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" redis-server "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不挂断运行命令")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);